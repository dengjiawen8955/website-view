let WebsitePV=0;let WebsiteUV=0;async function onceFetchAPi(){console.log("onceFetchAPi");const website=window.location.hostname;const data={website:website};const response=await fetch("https://api1.bmft.tech/dc3/api_platform/add_view",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});const resp=await response.json();WebsitePV=resp.data.pv;WebsiteUV=resp.data.uv;await updatePageViews()}var fetched=false;async function updatePageViews(){try{const pvContainer=document.getElementById("website_pv_container");const uvContainer=document.getElementById("website_uv_container");const pvSpan=document.getElementById("website_pv");const uvSpan=document.getElementById("website_uv");if(WebsitePV==0&&!fetched){fetched=true;await onceFetchAPi()}for(let i=0;i<2;i++){if(pvSpan!==null){pvSpan.textContent=WebsitePV}if(uvSpan!==null){uvSpan.textContent=WebsiteUV}if(pvContainer!==null){pvContainer.style.display="block"}if(uvContainer!==null){uvContainer.style.display="block"}await new Promise(resolve=>setTimeout(resolve,10))}}catch(error){console.error(error)}}window.addEventListener("load",function(){console.log("load");updatePageViews()});window.addEventListener("hashchange",function(event){console.log("hashchange");updatePageViews()});